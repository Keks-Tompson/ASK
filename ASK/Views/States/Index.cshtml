@{
    ViewData["Title"] = "Состояние";
}


@*Сохраняем текущую страницу*@
@using ASK.BLL.Helper.Setting
@*@{Accaunt.CurrentPage = "States";}*@




<div class="container-fluid"
  style=" color: #808080;
            padding: 10px;
          /*  background: #fffffC;*/
            border-radius: 0px;
  /*          box-shadow: 0 2 8px;*/
          /*  box-shadow: inset 0 0 5px;*/

border-radius: 10px;
            box-shadow: 0 1px 7px;

            line-height: 1;
            margin: 0 0 10px 0;
            padding: 10px;
            font-size: 94%;
            font-family: Times New Roman" , Times, serif; font-size: 20%;">


   <h3 class="text-center">@ViewData["Title"] системы ASK </h3>

   





    @*таблица глобальных аварий системы*@
    <div id="tableGlobalAlarm" style="margin:15px 0 0 0">
        @Html.Partial("~/Views/States/_GlobalAlarmTable.cshtml")
    </div>




</div>



<div class="container-fluid"
      style=" color: #808080;
         
          /*  background: #fffffC;*/
            border-radius: 0px;
       /*     box-shadow: 0 0 5px;*/
          /*  box-shadow: inset 0 0 5px;*/
            border-radius: 10px;
            box-shadow: 0 -1px 7px;
            line-height: 1;
            margin: 0 0 0 0;
            padding: 10px;
            font-size: 94%;
            font-family: Times New Roman" , Times, serif; font-size: 20%;">


       <h3 class="text-center">Состояния аналитического оборудования</h3>

   

    <div style="margin: 15px 0 0 0">
        <table class="table table-bordered  border-white table-secondary + text-center  " style="  box-shadow: 0 0 1px;  table-layout: fixed;">


            <tr class="fw-bold" style="font-weight:bold; ">
                <td colspan="3" style="vertical-align: middle">Состояние входного напряжения</td> @*style="width: 18rem;"class="table-primary"*@
            </tr>



            <tr>
                <td style="vertical-align: middle; background: #f5f5f5; box-shadow: inset 0 0 1px">Напряжение в норме</td>
                <td style="vertical-align: middle; background: #f5f5f5; box-shadow: inset 0 0 1px">ИБП запитан</td>
                <td style="vertical-align: middle; background: #f5f5f5; box-shadow: inset 0 0 1px">Блок питания запитан</td>
            </tr>


        </table>
    </div>




    <div style="margin: 0 0 30px 0">
        <table class="table table-bordered  border-white table-secondary + text-center  " style="  box-shadow: 0 0 1px;  table-layout: fixed;">


            <tr class="fw-bold" style="font-weight:bold; ">

                <td style="vertical-align: middle">Расходомер работает</td> @*style="width: 18rem;"class="table-primary"*@
                <td colspan="2" style="vertical-align: middle">Пылемер</td>
                <td colspan="5" style="vertical-align: middle">Газоанализатор BA1</td>
                <td style="vertical-align: middle">Газоанализатор BA2</td>
                <td style="vertical-align: middle">MCU</td>
                <td colspan="2" style="vertical-align: middle">Конвертор NOₓ</td>
            </tr>


            <tr>
                <td style="vertical-align: middle; background: #f5f5f5; box-shadow: inset 0 0 1px">Расходомер работает</td>
                <td style="vertical-align: middle; background: #f5f5f5; box-shadow: inset 0 0 1px">Пылемер работает</td>
                <td style="vertical-align: middle; background: #f5f5f5; box-shadow: inset 0 0 1px">Пылемер запитан</td>
                <td style="vertical-align: middle; background: #f5f5f5; box-shadow: inset 0 0 1px">ВА1 запитан</td> @*&#60 = <*@
                <td style="vertical-align: middle; background: #f5f5f5; box-shadow: inset 0 0 1px">Газоанализатор работает</td>
                <td style="vertical-align: middle; background: #f5f5f5; box-shadow: inset 0 0 1px">Нет запроcа на обслуживание</td>
                <td style="vertical-align: middle; background: #f5f5f5; box-shadow: inset 0 0 1px">Нет обслуживания</td>
                <td style="vertical-align: middle; background: #f5f5f5; box-shadow: inset 0 0 1px">Нет автокалибровки</td>
                <td style="vertical-align: middle; background: #f5f5f5; box-shadow: inset 0 0 1px">ВА2 запитан</td>
                <td style="vertical-align: middle; background: #f5f5f5; box-shadow: inset 0 0 1px">MCU запитан</td>
                <td style="vertical-align: middle; background: #f5f5f5; box-shadow: inset 0 0 1px">Конвертор NOₓ запитан</td>
                <td style="vertical-align: middle; background: #f5f5f5; box-shadow: inset 0 0 1px">Температра конвертора NOₓ в норме</td>

            </tr>


        </table>
    </div>




    <div style="margin: 0 0 30px 0">
        <table class="table table-bordered  border-white table-secondary + text-center  " style="  box-shadow: 0 0 1px;  table-layout: fixed;">


            <tr class="fw-bold" style="font-weight:bold; ">

                <td style="vertical-align: middle">Насос газовой пробы</td> @*style="width: 18rem;"class="table-primary"*@
                <td colspan="2" style="vertical-align: middle">Пробоотборный зонд</td>
                <td style="vertical-align: middle">Пробоотборная линия</td>
                <td colspan="2" style="vertical-align: middle">Охладитель</td>
                <td style="vertical-align: middle">Уровень конденсата</td>
                <td style="vertical-align: middle">Клапан калибровки</td>
                <td style="vertical-align: middle">Клапан продувки</td>
                <td style="vertical-align: middle">Клапан пробы АСК</td>
            </tr>


            <tr>
                <td style="vertical-align: middle; background: #f5f5f5; box-shadow: inset 0 0 1px">Есть команда на запуск насоса</td>
                <td style="vertical-align: middle; background: #f5f5f5; box-shadow: inset 0 0 1px">Зонд запитан</td>
                <td style="vertical-align: middle; background: #f5f5f5; box-shadow: inset 0 0 1px">Зонд работает</td>
                <td style="vertical-align: middle; background: #f5f5f5; box-shadow: inset 0 0 1px">Пробоотборная линия запитана</td>
                <td style="vertical-align: middle; background: #f5f5f5; box-shadow: inset 0 0 1px">Охладитель запитан</td>
                <td style="vertical-align: middle; background: #f5f5f5; box-shadow: inset 0 0 1px">Охладитель работает</td>
                <td style="vertical-align: middle; background: #f5f5f5; box-shadow: inset 0 0 1px">Уровень конденсата в норме</td>
                <td style="vertical-align: middle; background: #f5f5f5; box-shadow: inset 0 0 1px">Клапан закрыт</td>
                <td style="vertical-align: middle; background: #f5f5f5; box-shadow: inset 0 0 1px">Клапан закрыт</td>
                <td style="vertical-align: middle; background: #f5f5f5; box-shadow: inset 0 0 1px">Клапан открыт</td>

            </tr>


        </table>
    </div>





    

    @*таблица глобальных аварий системы*@
    <div id="currentAnalogTable" style="margin:15px 0 0 0">
        @Html.Partial("~/Views/States/_CurrentAnalogTable.cshtml")
    </div>



</div>






  
    <script type="text/javascript">
    
        //Вызываем заготовленные представления, рендарим их и обновляем
        
        //Глобальные аварии
        function GlobalAlarmTable()
        {
             $('#tableGlobalAlarm').load('States/_GlobalAlarmTable');
        }

        //Аналоги + прямые значения
        function CurrentAnalogTable() 
        { 
            $('#currentAnalogTable').load('States/_CurrentAnalogTable');
        }
       
      

        //Глобальные аварии
        setInterval(GlobalAlarmTable, 1000)
        setInterval(CurrentAnalogTable, 1000)

    </script>



